# vim: tw=0:ts=4:sw=4:et:ft=bash

core:import util

:<<[core:docstring]
The module does X, Y and Z
[core:docstring]

function mymod:hello() {
    local -i e=${CODE_DEFAULT?}

    if [ $# -gt 0 ]; then
        local -a creatures
        local whostr
        shopt -s nocasematch
        if [ $# -eq 1 ] && [[ $1 == "WORLD" ]]; then
            whostr="WORLD!"
        else
            creatures=( "$@" )
            whostr="$(:util:join , creatures), and of course ${name}!"
        fi

        e=${CODE_SUCCESS}
    fi

    return $e
}
